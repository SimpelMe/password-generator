const randomFunc={lower:getRandomLower,upper:getRandomUpper,number:getRandomNumber,symbol:getRandomSymbol};function secureMathRandom(){return window.crypto.getRandomValues(new Uint32Array(1))[0]/(Math.pow(2,32)-1)}function getRandomLower(){return String.fromCharCode(Math.floor(26*Math.random())+97)}function getRandomUpper(){return String.fromCharCode(Math.floor(26*Math.random())+65)}function getRandomNumber(){return String.fromCharCode(Math.floor(10*secureMathRandom())+48)}function getRandomSymbol(){const e="+!#$_:?><;.,";return e[Math.floor(Math.random()*e.length)]}const resultEl=document.getElementById("result"),lengthEl=document.getElementById("slider"),uppercaseEl=document.getElementById("uppercase"),lowercaseEl=document.getElementById("lowercase"),numberEl=document.getElementById("number"),symbolEl=document.getElementById("symbol"),copyBtn=document.getElementById("copy-btn");function triggerGenerator(){const e=+lengthEl.value,t=lowercaseEl.checked,n=uppercaseEl.checked,r=numberEl.checked,o=symbolEl.checked;generatedPassword=!0,resultEl.innerText=generatePassword(e,t,n,r,o)}function generatePassword(e,t,n,r,o){let l="";const a=t+n+r+o,c=[{lower:t},{upper:n},{number:r},{symbol:o}].filter((e=>Object.values(e)[0]));if(0===a)return"";for(let t=0;t<e/a;t++)c.forEach((e=>{const t=Object.keys(e)[0];l+=randomFunc[t]()}));return l=l.slice(0,e),shufflePassword(l)}function shufflePassword(e){let t=[...e];return t.forEach(((e,t,n,r=((e,t)=>Math.floor(Math.random()*(t-e)+e))(t,n.length))=>[n[t],n[r]]=[n[r],n[t]])),t=t.join(""),t}function disableOnlyCheckbox(){let e=[uppercaseEl,lowercaseEl,numberEl,symbolEl].filter((e=>e.checked));e.forEach((t=>{1==e.length?t.disabled=!0:t.disabled=!1}))}copyBtn.addEventListener("click",(()=>{const e=document.querySelector("#result");navigator.clipboard.writeText(e.value)})),[uppercaseEl,lowercaseEl,numberEl,symbolEl].forEach((e=>{e.addEventListener("click",(()=>{disableOnlyCheckbox()}))}));